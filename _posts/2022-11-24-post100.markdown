---
title: "MYSQL UPGRADE"
date: 2022-11-24
last_modified_at: 2022-11-24
categories: 
  - DB
tags:
  - [UPGRADE]
---

> ## 업그레이드 주의 사항

- 최소 지원 OS 버전 체크, 엔진 변경 사항 체크 해야 한다.
- 변경된 기능이나 제거된 기능들도 컴토 필요하다.
- 메이저버전 업그레이드 시 5.5이하에서 업그레이드 하는거라면 두번의 업그레이드를 진행해야 한다. (ex: 5.5 에서 5.6, 5.6 에서 5.7)
- 위의 단계별 방법보다 모든 데이터를 내리고 엔진을 제거한 다음 재설치 후 데이터를 올리는게 더 안정적이고 효과적

> ## MYSQL upgrade

### 1. Inplace 방식 
기존에 설치되어 있는 데이터베이스 엔진에 덮어 씌우는 방법. 내부적으로 엔진 바이너리를 이전 버전에서 새로운 버전으로 교체 후 제공되는 업그레이드 프로그램을 실행시켜 호환되지 않는 기능을 제거, 버그를 제거하고 보안 문제등을 고친다.

[Inplace upgrade 링크](https://dev.mysql.com/blog-archive/inplace-upgrade-from-mysql-5-7-to-mysql-8-0/)  

[업그레이드 팁 링크](https://severalnines.com/blog/tips-for-upgrading-mysql-5-7-to-mysql-8/)  

[업그레이드 가이드 링크](https://m.blog.naver.com/sory1008/221406585641)  

MySQL 5.7서버를 종료하고 이전 바이너리를 8.0 바이너리로 바꾼 다음 이전 데이터 디렉토리에서 MYSQL8.0서버를 시작 

### 2. Logical 방식 
기존 엔진에서 데이터를 모두 내리고 기존 엔진을 제거하거나 이름 변경 후 신규로 엔진을 설치한 다음 새로 설치한 엔진에 모두 내린 데이터를 반대로 모두 올리는 방법 

### 3. yum을 통한 방법 
처음에 yum으로 설치를 했다면 yum 명령어로 손쉽게 업그레이드가 가능하다.(Inplace 방법)  

### 4. source Compile을 통한 업그레이드 방법 
소스 컴파일 방법을 통한 재설치는 원복시 원래 위치 그대로 풀기만 하면 되기 때문에 편하게 원복할 수 있다.  
기존 엔진을 셧다운 시키고 통째로 압축, 압축된 엔진 파일을 다른곳으로 옮기고 삭제하거나 이름을 바꿔 둔다.

