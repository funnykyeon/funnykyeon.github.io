---
title: "환경변수, Docker-Compose"
date: 2022-09-25
last_modified_at: 2022-09-25
categories: 
  - Diary
tags:
  - [Docker-Compose,env]
---
기존에 무중단배포 완료는 H2로 완료하여 계속 로컬에서만 테스트를 하고있었다.  
슬슬 mysqlDB를 이용해서 프론트와 테스트를 해보려고 했다.  
처음에 properties에 mysql정보를 넣어야하지만 환경변수로 설정하여 로컬에서 성공하였다.  
동일하게 리눅스에도 적용하기위해 리눅스에 환경변수를 등록하고 배포하였으나  
역시 환경변수를 읽지를 못했다.  
여기서 무슨 문제인제 생각을 했다.
1. 쉘스크립트 문제인가?
2. 환경변수가 똑바로 저장되지않았나?
3. 환경변수를 가지고오는것보다 jar빌드가 더빠른걸까?
였다.  

생각대로 해결방법을 찾아보기로 했다.  
1. - 쉘스크립트에 docker run 부분에 -e 옵션을 주고 진행 -> 실패
    - -e 옵션줄때 환경변수 전달을 DB_URL=${DB_URL}->DB_URL=$DB_URL 변경 -> 실패
2. - source 명령어로 저장 -> 실패
    - root유저로 접근하여 다시 저장후 실행 -> 실패
3. 내 눈으로 확인할 길이 없어서 24일 오후부터 ~ 25일 저녁까지 구글링중이다.

현재상황은 리눅스에서 환경변수를 설정하는거에서 Docker-compose를 이용하여 환경변수를  
전달하는 과정을 찾아보고 있다.  

생각보다 한일이 많지 않은데 하루가 금방 지나가버렸다.  
조금 지친감도 있지만 내일은 반드시 해결해서 해결한 방법을 블로그에 올리고싶다.  
